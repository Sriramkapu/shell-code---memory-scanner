version: '3.8'

services:
  detection-engine:
    build:
      context: .
      dockerfile: docker/Dockerfile
    container_name: detection-engine
    restart: unless-stopped
    volumes:
      - ./logs:/app/logs
      - ./reports:/app/reports
      - ./config:/app/config
      - ./quarantine:/quarantine
    cap_add:
      - SYS_PTRACE
    environment:
      - PYTHONUNBUFFERED=1
      - AUTO_MODE=false
    # Auto mode disabled - runs single scan by default
    # To enable auto mode, change AUTO_MODE=true and uncomment command below:
    # command: python detection/orchestrator.py

